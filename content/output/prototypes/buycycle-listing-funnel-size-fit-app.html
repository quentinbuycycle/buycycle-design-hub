<!-- AGENTS.MD READ SUCCESSFULLY -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=390, initial-scale=1.0">
  <title>buycycle App - Create Listing (Size & Fit)</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Neue Haas Grotesk Text Pro', -apple-system, BlinkMacSystemFont, sans-serif;
      background-color: #FCFCFC;
      display: flex;
      justify-content: center;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // ==================== DESIGN TOKENS ====================
    const tokens = {
      colors: {
        background: {
          primary: '#FCFCFC',
          secondary: '#F3F3F3',
          tertiary: '#FFFFFF',
          quaternary: '#EAEAEA',
          reverse: '#090907',
          positive: '#E8F8F0',
          information: '#EFF6FF',
          secondaryAccent: '#DAFDA0',
          prefillBorder: '#C9F484',
        },
        content: {
          primary: '#090907',
          secondary: '#333333',
          tertiary: '#535353',
          quaternary: '#A9A9A9',
          reverse: '#FCFCFC',
          positive: '#146C43',
        },
        border: {
          primary: '#090907',
          secondary: '#757575',
          tertiary: '#EAEAEA',
          quaternary: '#D0D0D0',
          information: '#1D4ED8',
        }
      },
      typography: {
        fontFamily: "'Neue Haas Grotesk Text Pro', -apple-system, BlinkMacSystemFont, sans-serif",
      },
    };

    // Recommended height ranges by frame size
    const frameSizeToHeight = {
      "45": "155-165cm",
      "48": "160-170cm",
      "50": "165-175cm",
      "52": "168-178cm",
      "54": "173-183cm",
      "56": "178-188cm",
      "58": "183-193cm",
      "60": "188-198cm",
      "62": "191-201cm",
    };

    // ==================== AI PREFILL ICON ====================
    const AIPrefillIcon = ({ size = 15 }) => (
      <svg width={size} height={size} viewBox="0 0 15 15" fill="none">
        <defs>
          <linearGradient id="aiGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stopColor="#B7FF40"/>
            <stop offset="100%" stopColor="#79B810"/>
          </linearGradient>
        </defs>
        <circle cx="7.5" cy="7.5" r="7.5" fill="url(#aiGrad)"/>
        <circle cx="6.5" cy="6.5" r="1.5" fill="#05061A"/>
        <circle cx="5" cy="8.5" r="1.5" fill="#05061A"/>
      </svg>
    );

    // ==================== iOS STATUS BAR ====================
    const StatusBar = () => (
      <div style={{
        width: '390px',
        height: '47px',
        position: 'relative',
        flexShrink: 0,
      }}>
        <span style={{
          position: 'absolute',
          left: '27px',
          top: '14px',
          fontFamily: 'Inter, -apple-system, sans-serif',
          fontWeight: 600,
          fontSize: '17px',
          lineHeight: '22px',
          letterSpacing: '-0.408px',
          color: tokens.colors.content.primary,
        }}>
          9:41
        </span>
        <div style={{
          position: 'absolute',
          right: '27px',
          top: '19px',
          display: 'flex',
          alignItems: 'center',
          gap: '6px',
        }}>
          <svg width="18" height="12" viewBox="0 0 18 12" fill={tokens.colors.content.primary}>
            <rect x="0" y="3" width="3" height="9" rx="1"/>
            <rect x="5" y="2" width="3" height="10" rx="1"/>
            <rect x="10" y="1" width="3" height="11" rx="1"/>
            <rect x="15" y="0" width="3" height="12" rx="1"/>
          </svg>
          <svg width="17" height="12" viewBox="0 0 17 12" fill={tokens.colors.content.primary}>
            <path d="M8.5 2.5C10.4 2.5 12.1 3.3 13.3 4.5L14.7 3.1C13.1 1.5 11 0.5 8.5 0.5C6 0.5 3.9 1.5 2.3 3.1L3.7 4.5C4.9 3.3 6.6 2.5 8.5 2.5Z"/>
            <path d="M8.5 5.5C9.6 5.5 10.6 5.9 11.4 6.6L12.8 5.2C11.6 4.1 10.1 3.5 8.5 3.5C6.9 3.5 5.4 4.1 4.2 5.2L5.6 6.6C6.4 5.9 7.4 5.5 8.5 5.5Z"/>
            <circle cx="8.5" cy="9.5" r="2"/>
          </svg>
          <div style={{ position: 'relative', width: '27.4px', height: '13px' }}>
            <div style={{
              width: '25px',
              height: '13px',
              border: `1.5px solid ${tokens.colors.content.primary}`,
              borderRadius: '4px',
              opacity: 0.35,
            }}/>
            <div style={{
              position: 'absolute',
              left: '2px',
              top: '2px',
              width: '18px',
              height: '9px',
              backgroundColor: tokens.colors.content.primary,
              borderRadius: '2px',
            }}/>
            <div style={{
              position: 'absolute',
              right: '-3px',
              top: '4px',
              width: '1.5px',
              height: '5px',
              backgroundColor: tokens.colors.content.primary,
              borderRadius: '1px',
              opacity: 0.4,
            }}/>
          </div>
        </div>
      </div>
    );

    // ==================== APP HEADER ====================
    const AppHeader = () => (
      <div style={{
        width: '390px',
        display: 'flex',
        flexDirection: 'column',
        gap: '16px',
        backgroundColor: tokens.colors.background.primary,
      }}>
        <StatusBar />
        {/* Navigation row */}
        <div style={{
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          padding: '0 20px',
          height: '24px',
        }}>
          <button type="button" aria-label="Go back" style={{ background: 'none', border: 'none', padding: 0, cursor: 'pointer', display: 'flex' }}>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path d="M19 12H5M5 12L12 19M5 12L12 5" stroke={tokens.colors.content.primary} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
          </button>
          <span style={{
            fontSize: '14px',
            lineHeight: '21px',
            fontWeight: 400,
            color: tokens.colors.content.primary,
            fontFamily: tokens.typography.fontFamily,
          }}>
            Save & exit
          </span>
        </div>
        {/* Progress bar */}
        <div style={{ width: '390px', height: '8px', position: 'relative' }}>
          <div style={{
            width: '390px',
            height: '8px',
            backgroundColor: tokens.colors.background.quaternary,
          }}/>
          <div style={{
            position: 'absolute',
            left: 0,
            top: 0,
            width: '156px',
            height: '8px',
            backgroundColor: tokens.colors.background.reverse,
          }}/>
        </div>
      </div>
    );

    // ==================== DROPDOWN FIELD ====================
    const DropdownField = ({ label, value, required, options, onChange, prefilled, infoIcon }) => (
      <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
        <div style={{
          display: 'flex',
          alignItems: 'center',
          padding: '0 8px 0 0',
          gap: '4px',
        }}>
          <span style={{
            fontSize: '16px',
            lineHeight: '24px',
            color: tokens.colors.content.primary,
            fontWeight: 500,
            fontFamily: tokens.typography.fontFamily,
          }}>
            {label}{required && '*'}
          </span>
          {infoIcon && (
            <button
              type="button"
              aria-label="More information"
              style={{ width: '24px', height: '24px', display: 'flex', alignItems: 'center', justifyContent: 'center', background: 'none', border: 'none', padding: 0, cursor: 'pointer' }}
            >
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <circle cx="12" cy="12" r="10" stroke={tokens.colors.content.primary} strokeWidth="1.5"/>
                <path d="M12 11V17M12 8.5V7" stroke={tokens.colors.content.primary} strokeWidth="1.5" strokeLinecap="round"/>
              </svg>
            </button>
          )}
        </div>
        <div style={{ position: 'relative' }}>
          <select
            value={value}
            onChange={onChange}
            aria-required={required || undefined}
            style={{
              width: '100%',
              height: '40px',
              padding: '10px 16px',
              paddingRight: '40px',
              paddingLeft: prefilled ? '36px' : '16px',
              border: prefilled ? `1px solid ${tokens.colors.background.prefillBorder}` : `1px solid ${tokens.colors.border.tertiary}`,
              borderRadius: '6px',
              fontSize: '16px',
              lineHeight: '24px',
              color: value ? tokens.colors.content.primary : tokens.colors.content.quaternary,
              backgroundColor: tokens.colors.background.tertiary,
              fontFamily: tokens.typography.fontFamily,
              appearance: 'none',
              cursor: 'pointer',
              fontWeight: 400,
            }}
          >
            {options.map(opt => (
              <option key={opt.value} value={opt.value}>{opt.label}</option>
            ))}
          </select>
          {prefilled && (
            <div style={{
              position: 'absolute',
              left: '10px',
              top: '50%',
              transform: 'translateY(-50%)',
              pointerEvents: 'none',
              display: 'flex',
            }}>
              <AIPrefillIcon />
            </div>
          )}
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" style={{
            position: 'absolute',
            right: '10px',
            top: '50%',
            transform: 'translateY(-50%)',
            pointerEvents: 'none',
          }}>
            <path d="M5 7.5L10 12.5L15 7.5" stroke={tokens.colors.content.primary} strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
          </svg>
        </div>
      </div>
    );

    // ==================== TEXT INPUT ====================
    const TextInputField = ({ label, value, placeholder, onChange, disabled, helperText, suffix }) => (
      <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
        {/* Label */}
        <div style={{
          display: 'flex',
          alignItems: 'center',
          padding: '0 8px 0 0',
        }}>
          <span style={{
            fontSize: '16px',
            lineHeight: '24px',
            color: tokens.colors.content.primary,
            fontWeight: 500,
            fontFamily: tokens.typography.fontFamily,
          }}>
            {label}
          </span>
        </div>
        {/* Input + Hint (4px gap per DS) */}
        <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>
          <div style={{ position: 'relative' }}>
            <input
              type="text"
              value={value}
              placeholder={placeholder}
              onChange={onChange}
              disabled={disabled}
              style={{
                width: '100%',
                height: '40px',
                padding: suffix ? '10px 40px 10px 16px' : '10px 16px',
                border: `1px solid ${tokens.colors.border.tertiary}`,
                borderRadius: '6px',
                fontSize: '16px',
                lineHeight: '24px',
                color: disabled ? tokens.colors.content.quaternary : tokens.colors.content.primary,
                backgroundColor: disabled ? tokens.colors.background.secondary : tokens.colors.background.tertiary,
                fontFamily: tokens.typography.fontFamily,
                outline: 'none',
                fontWeight: 400,
              }}
            />
            {suffix && (
              <span style={{
                position: 'absolute',
                right: '12px',
                top: '50%',
                transform: 'translateY(-50%)',
                fontSize: '14px',
                color: tokens.colors.content.quaternary,
                pointerEvents: 'none',
              }}>
                {suffix}
              </span>
            )}
          </div>
          {helperText && (
            <span style={{
              fontSize: '12px',
              lineHeight: '18px',
              color: tokens.colors.content.tertiary,
            }}>
              {helperText}
            </span>
          )}
        </div>
      </div>
    );

    // ==================== RADIO BUTTON RICH ====================
    const RadioButtonRich = ({ options, value, onChange, prefilled, name = 'radio-group' }) => (
      <div style={{ display: 'flex', gap: '12px' }} role="radiogroup">
        {options.map(opt => {
          const isSelected = value === opt.value;
          return (
            <label
              key={opt.value}
              style={{
                display: 'flex',
                alignItems: 'center',
                padding: '0',
                height: '44px',
                flex: 1,
                backgroundColor: tokens.colors.background.tertiary,
                border: `1px solid ${isSelected ? tokens.colors.border.secondary : tokens.colors.border.tertiary}`,
                borderRadius: '8px',
                cursor: 'pointer',
                fontFamily: tokens.typography.fontFamily,
              }}
            >
              <input
                type="radio"
                name={name}
                value={opt.value}
                checked={isSelected}
                onChange={() => onChange(opt.value)}
                style={{ position: 'absolute', opacity: 0, width: 0, height: 0 }}
              />
              <div style={{
                width: '44px',
                height: '44px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                flexShrink: 0,
              }}>
                <div style={{
                  width: '24px',
                  height: '24px',
                  borderRadius: '50%',
                  border: isSelected ? `1.5px solid ${tokens.colors.border.primary}` : `1.5px solid ${tokens.colors.border.tertiary}`,
                  backgroundColor: tokens.colors.background.tertiary,
                  display: 'flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                }}>
                  {isSelected && (
                    <div style={{
                      width: '12px',
                      height: '12px',
                      borderRadius: '50%',
                      backgroundColor: tokens.colors.content.primary,
                    }} />
                  )}
                </div>
              </div>
              <div style={{
                display: 'flex',
                alignItems: 'center',
                gap: '8px',
              }}>
                {prefilled && isSelected && <AIPrefillIcon size={15} />}
                <span style={{
                  fontSize: '14px',
                  lineHeight: '21px',
                  fontWeight: 500,
                  color: tokens.colors.content.primary,
                }}>
                  {opt.label}
                </span>
              </div>
            </label>
          );
        })}
      </div>
    );

    // ==================== SIZE & FIT SECTION ====================
    const SizeFitSection = ({ frameSize }) => {
      const defaultHeight = frameSizeToHeight[frameSize] || "\u2014";
      const [agreesWithRecommendation, setAgreesWithRecommendation] = useState(null);
      const [sellerHeight, setSellerHeight] = useState('');
      const [sellerLegLength, setSellerLegLength] = useState('');
      const [fitFeeling, setFitFeeling] = useState(null);

      return (
        <div style={{
          padding: '16px',
          border: `1px solid ${tokens.colors.border.tertiary}`,
          borderRadius: '8px',
          backgroundColor: tokens.colors.background.secondary,
          marginBottom: '4px',
        }}>
          {/* Section title */}
          <div style={{
            display: 'flex',
            alignItems: 'center',
            gap: '8px',
            marginBottom: '4px',
          }}>
            <svg width="16" height="16" viewBox="0 0 20 20" fill="none">
              <path d="M10 2L3 6V14L10 18L17 14V6L10 2Z" stroke={tokens.colors.content.primary} strokeWidth="1.5" strokeLinejoin="round"/>
              <circle cx="10" cy="10" r="2" stroke={tokens.colors.content.primary} strokeWidth="1.5"/>
            </svg>
            <span style={{
              fontSize: '16px',
              lineHeight: '24px',
              fontWeight: 500,
              color: tokens.colors.content.primary,
            }}>
              Size & fit
            </span>
          </div>
          {/* Helper text — subdued */}
          <p style={{
            fontSize: '14px',
            lineHeight: '21px',
            color: tokens.colors.content.secondary,
            marginBottom: '12px',
          }}>
            Help buyers find the right size. Your fit information will be shown on the product page.
          </p>

          {/* Recommended height — prominent */}
          <div style={{
            padding: '16px',
            backgroundColor: tokens.colors.background.primary,
            borderRadius: '8px',
            marginBottom: '20px',
          }}>
            <div style={{
              fontSize: '14px',
              lineHeight: '21px',
              color: tokens.colors.content.secondary,
              marginBottom: '4px',
            }}>
              Recommended height for frame size {frameSize}
            </div>
            <div style={{
              fontSize: '16px',
              lineHeight: '24px',
              fontWeight: 700,
              color: tokens.colors.content.primary,
            }}>
              {defaultHeight}
            </div>
          </div>

          {/* Agree with recommendation */}
          <div style={{ marginBottom: '16px' }}>
            <div style={{
              fontSize: '16px',
              lineHeight: '24px',
              color: tokens.colors.content.primary,
              fontWeight: 500,
              marginBottom: '8px',
            }}>
              Do you agree with this recommendation?
            </div>
            <RadioButtonRich
              name="agrees-recommendation"
              options={[
                { value: 'yes', label: 'Yes' },
                { value: 'no', label: 'No' },
              ]}
              value={agreesWithRecommendation}
              onChange={setAgreesWithRecommendation}
            />
          </div>

          {/* Seller height & leg length — side by side */}
          <div style={{
            display: 'flex',
            flexDirection: 'column',
            gap: '16px',
            marginBottom: '16px',
          }}>
            <TextInputField
              label="Your height"
              value={sellerHeight}
              placeholder="e.g. 182"
              suffix="cm"
              onChange={(e) => setSellerHeight(e.target.value)}
            />
            <TextInputField
              label="Your leg length"
              value={sellerLegLength}
              placeholder="e.g. 86"
              suffix="cm"
              onChange={(e) => setSellerLegLength(e.target.value)}
            />
          </div>

          {/* Fit feeling */}
          <div>
            <div style={{
              fontSize: '16px',
              lineHeight: '24px',
              color: tokens.colors.content.primary,
              fontWeight: 500,
              marginBottom: '8px',
            }}>
              How did this bike fit you?
            </div>
            <div style={{ display: 'flex', gap: '8px' }}>
              {[
                { value: 'too_small', label: 'Too small' },
                { value: 'perfect', label: 'Perfect fit' },
                { value: 'too_big', label: 'Too big' },
              ].map(opt => {
                const isSelected = fitFeeling === opt.value;
                return (
                  <button
                    key={opt.value}
                    onClick={() => setFitFeeling(opt.value)}
                    style={{
                      flex: 1,
                      height: '44px',
                      borderRadius: '8px',
                      border: isSelected
                        ? `1.5px solid ${opt.value === 'perfect' ? tokens.colors.content.positive : tokens.colors.border.primary}`
                        : `1px solid ${tokens.colors.border.tertiary}`,
                      backgroundColor: isSelected && opt.value === 'perfect'
                        ? tokens.colors.background.positive
                        : isSelected
                        ? tokens.colors.background.secondary
                        : tokens.colors.background.tertiary,
                      fontSize: '14px',
                      lineHeight: '21px',
                      fontWeight: isSelected ? 500 : 400,
                      color: isSelected && opt.value === 'perfect'
                        ? tokens.colors.content.positive
                        : tokens.colors.content.primary,
                      cursor: 'pointer',
                      fontFamily: tokens.typography.fontFamily,
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                    }}
                  >
                    {opt.label}
                  </button>
                );
              })}
            </div>
          </div>
        </div>
      );
    };

    // ==================== STICKY BOTTOM BUTTON ====================
    const StickyButton = ({ label = "Next" }) => (
      <div style={{
        position: 'fixed',
        bottom: 0,
        width: '390px',
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
      }}>
        <div style={{
          width: '100%',
          padding: '44px 16px 0',
          background: 'linear-gradient(179.636deg, rgba(252, 252, 252, 0) 0.95%, rgb(252, 252, 252) 39.17%)',
        }}>
          <button style={{
            width: '100%',
            height: '49px',
            backgroundColor: tokens.colors.content.primary,
            color: tokens.colors.content.reverse,
            border: 'none',
            borderRadius: '6px',
            fontSize: '16px',
            lineHeight: '24px',
            fontWeight: 400,
            fontFamily: tokens.typography.fontFamily,
            cursor: 'pointer',
          }}>
            {label}
          </button>
        </div>
        {/* Home indicator — 34px safe area */}
        <div style={{
          width: '100%',
          height: '34px',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
        }}>
          <div style={{
            width: '134px',
            height: '5px',
            backgroundColor: tokens.colors.content.primary,
            borderRadius: '100px',
          }} />
        </div>
      </div>
    );

    // ==================== MAIN APP ====================
    const App = () => {
      const [frameSize, setFrameSize] = useState('');
      const [color, setColor] = useState('');
      const [hasReceipt, setHasReceipt] = useState(null);
      const [condition, setCondition] = useState('');

      return (
        <div style={{
          width: '390px',
          minHeight: '100vh',
          backgroundColor: tokens.colors.background.primary,
          position: 'relative',
        }}>
          <AppHeader />

          {/* Content */}
          <div style={{
            padding: '16px 16px 130px',
          }}>
            {/* Title */}
            <h1 style={{
              fontSize: '24px',
              lineHeight: '32px',
              fontWeight: 500,
              color: tokens.colors.content.primary,
              fontFamily: tokens.typography.fontFamily,
              marginBottom: '0',
            }}>
              Add basic information
            </h1>

            {/* Form */}
            <div style={{
              display: 'flex',
              flexDirection: 'column',
              gap: '16px',
              paddingTop: '24px',
            }}>
              {/* Country */}
              <DropdownField
                label="Country"
                value="Germany"
                prefilled
                options={[{ value: 'Germany', label: 'Germany' }]}
              />

              {/* ZIP code */}
              <TextInputField
                label="Find your ZIP code"
                value="10787 Berlin, Germany"
                helperText="Your ZIP code helps buyers find your bike. Your exact address won't be shared."
              />

              {/* Frame size & Color — stacked on mobile */}
              <DropdownField
                label="Frame size"
                value={frameSize}
                required
                infoIcon
                onChange={(e) => setFrameSize(e.target.value)}
                options={[{ value: '', label: 'Select' }, ...Object.keys(frameSizeToHeight).map(s => ({ value: s, label: s }))]}
              />

              {/* SIZE & FIT — directly after frame size */}
              {frameSize && <SizeFitSection frameSize={frameSize} />}

              <DropdownField
                label="Color"
                value={color}
                required
                onChange={(e) => setColor(e.target.value)}
                options={[{ value: '', label: 'Select' }, ...['White', 'Black', 'Red', 'Blue', 'Green', 'Purple'].map(c => ({ value: c, label: c }))]}
              />

              {/* Receipt question */}
              <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                <span style={{
                  fontSize: '16px',
                  lineHeight: '24px',
                  color: tokens.colors.content.primary,
                  fontWeight: 400,
                  fontFamily: tokens.typography.fontFamily,
                }}>
                  Do you have a receipt?*
                </span>
                <RadioButtonRich
                  name="has-receipt"
                  options={[
                    { value: 'yes', label: 'Yes' },
                    { value: 'no', label: 'No' },
                  ]}
                  value={hasReceipt}
                  onChange={setHasReceipt}
                />
              </div>

              {/* Condition */}
              <DropdownField
                label="Condition of the bike"
                value={condition}
                required
                onChange={(e) => setCondition(e.target.value)}
                options={[
                  { value: '', label: 'Select' },
                  { value: 'New', label: 'New' },
                  { value: 'Very good', label: 'Very good' },
                  { value: 'Good', label: 'Good' },
                  { value: 'Fair', label: 'Fair' },
                ]}
              />
            </div>
          </div>

          <StickyButton />

          <style>{`
            select:focus, input:focus { border-color: ${tokens.colors.border.secondary} !important; box-shadow: inset 0 0 0 1px ${tokens.colors.border.secondary}; outline: none; }
            button:hover { opacity: 0.95; }
            button:active { transform: scale(0.99); }
          `}</style>
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
